# ðŸ§© NUC Video Redundancy Mesh (C++ PoC)

## Objective
Simulate a **fault-tolerant, storage-efficient video redundancy mesh** where multiple NUC-like nodes record camera feeds, encode them into resilient shards, and exchange them with peers to ensure data recovery on failure.

## Architecture Overview

### Core Services
- **Peer Discovery:** Detects live nodes on LAN.  
- **Video Capture:** Reads frames from pre-recorded or live video.  
- **Segmentation:** Groups frames into short micro-segments.  
- **RS Encoding / Sharding:** Splits segments into data + parity shards.  
- **Shard Distribution:** Sends shards to peers reliably.  
- **Metadata Service:** Tracks shard location and status.  
- **Monitoring / Recovery:** Detects failures and reconstructs lost shards.  
- **Backend Sync:** Uploads confirmed segments and purges local storage.

### Folder Structure
```
nuc-video-mesh/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ main.cpp
â”‚ â”œâ”€â”€ utils/
â”‚ â”‚ â””â”€â”€ logger.cpp / logger.hpp
â”‚ â”œâ”€â”€ services/
â”‚ â”‚ â”œâ”€â”€ peer_discovery.cpp / .hpp
â”‚ â”‚ â”œâ”€â”€ video_capture.cpp / .hpp
â”‚ â”‚ â”œâ”€â”€ segmentation.cpp / .hpp
â”‚ â”‚ â”œâ”€â”€ rs_encoding.cpp / .hpp
â”‚ â”‚ â”œâ”€â”€ shard_distribution.cpp / .hpp
â”‚ â”‚ â”œâ”€â”€ metadata_service.cpp / .hpp
â”‚ â”‚ â”œâ”€â”€ monitoring_recovery.cpp / .hpp
â”‚ â”‚ â””â”€â”€ backend_sync.cpp / .hpp
â””â”€â”€ build/ (auto-generated)
```



### Build & Run
```bash
mkdir build && cd build
cmake ..
cmake --build .
./nuc_video_mesh --node-id 1 --port 5001
./nuc_video_mesh --node-id 2 --port 5002
```
###  Key Libraries & Tools

- C++17
- Boost.Asio / ZeroMQ â†’ Networking & shard distribution
- SQLite â†’ Metadata persistence
- FFmpeg / OpenCV â†’ Video capture and segmentation
- Jerasure / libfec â†’ RS encoding for redundancy
- CMake â†’ Build and dependency management

### Testing Scenarios

- Single node recording and local shard storage
- Multi-node shard exchange simulation
- Node failure recovery
- Backend upload and purge workflow